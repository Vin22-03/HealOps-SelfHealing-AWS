{% extends "layout.html" %}
{% block title %}HealOps | Dashboard{% endblock %}

{% block content %}
<section class="hero">
  <h1 class="h1">Self-Healing Dashboard</h1>
  <p class="subtitle">
    Real AWS failures. Real detection. Real automated healing.
    This dashboard reflects how your system reacts when something breaks —
    <b>not when things are normal</b>.
    <span class="muted">
      Data source: ECS Task State Changes (EventBridge), CloudWatch metrics, Lambda ingestion, DynamoDB.
    </span>
  </p>
</section>

<section class="cards" id="dashCards">
  <!-- populated dynamically from /api/dashboard -->
</section>

<section class="section">
  <div class="section-head">
    <h2 class="h2">Recent Healing Timeline</h2>
    <p class="muted">
      Breakdown of the last detected incident:  
      <b>failure → detection → healing → MTTR measurement</b>.
    </p>
  </div>

  <div class="glass table-wrap">
    <table class="table" id="latestTable">
      <thead>
        <tr>
          <th>Incident Time (UTC)</th>
          <th>Component</th>
          <th>Incident Type</th>
          <th>Detected By</th>
          <th>Healing Action</th>
          <th>MTTR</th>
        </tr>
      </thead>
      <tbody>
        <!-- populated dynamically from /api/incidents -->
      </tbody>
    </table>
  </div>
</section>

<section class="section">
  <div class="glass callout">
    <h3 class="h3">Why HealOps Exists</h3>
    <p>
      Traditional portfolio projects only show <i>healthy</i> systems.
      HealOps shows what truly matters in SRE and production environments —
      <b>how the system reacts when it fails</b>, and how quickly it heals without human help.
    </p>

    <p class="muted">
      Every incident is generated from actual AWS events:
      no mock failures, no manual fake triggers.  
      What you see here is exactly what AWS observed.
    </p>
    <p class="muted">
  <b>Note:</b> MTTR appears extremely low (1–2 seconds) because ECS performs instant 
  self-healing — detection and recovery happen within the same EventBridge → Lambda cycle.
</p>
   

    <div class="chips">
      <span class="chip">Failure Classification</span>
      <span class="chip">Health Check Failures</span>
      <span class="chip">Container Crashes</span>
      <span class="chip">EventBridge Detection</span>
      <span class="chip">Lambda Ingestion</span>
      <span class="chip">DynamoDB Evidence</span>
      <span class="chip">Measured MTTR</span>
      <span class="chip">Full Audit Trail</span>
    </div>
  </div>
</section>

<script>
  window.HEALOPS_PAGE = "dashboard";
</script>
{% endblock %}

