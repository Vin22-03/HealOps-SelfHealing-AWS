{% extends "layout.html" %}
{% block title %}HealOps | Dashboard{% endblock %}

{% block content %}
<section class="hero">
  <h1 class="h1">Self-Healing Dashboard</h1>
  <p class="subtitle">
    Failure-first, recovery-focused. This dashboard visualizes real incident timelines,
    detection signals, healing actions, and measured MTTR based on live AWS events.
    <span class="muted">
      Data source: CloudWatch alarms, ECS task state changes, EventBridge, DynamoDB.
    </span>
  </p>
</section>

<section class="cards" id="dashCards">
  <!-- populated dynamically from /api/dashboard -->
</section>

<section class="section">
  <div class="section-head">
    <h2 class="h2">Recent Healing Timeline</h2>
    <p class="muted">
      What broke → how it was detected → what healed it → measured MTTR.
    </p>
  </div>

  <div class="glass table-wrap">
    <table class="table" id="latestTable">
      <thead>
        <tr>
          <th>Incident Time (UTC)</th>
          <th>Component</th>
          <th>Status</th>
          <th>Detected By</th>
          <th>Healing Action</th>
          <th>MTTR</th>
        </tr>
      </thead>
      <tbody>
        <!-- populated dynamically from /api/incidents -->
      </tbody>
    </table>
  </div>
</section>

<section class="section">
  <div class="glass callout">
    <h3 class="h3">Why HealOps exists</h3>
    <p>
      Most portfolios show systems when everything is healthy.
      HealOps focuses on what actually matters in production:
      <b>failure detection</b>, <b>automated recovery</b>, and <b>measurable reliability</b>.
    </p>
    <p class="muted">
      Every incident shown here is derived from real AWS signals — no simulated failures,
      no manual injections, and no artificial recovery events.
    </p>
    <div class="chips">
      <span class="chip">Incident lifecycle</span>
      <span class="chip">CloudWatch alarms</span>
      <span class="chip">ECS task replacement</span>
      <span class="chip">EventBridge detection</span>
      <span class="chip">MTTR measurement</span>
      <span class="chip">Audit-friendly evidence</span>
    </div>
  </div>
</section>

<script>
  window.HEALOPS_PAGE = "dashboard";
</script>
{% endblock %}
